<%
  // Definimos las clases CSS para no repetirlas
  const normalClass = "flex items-center gap-3 px-3 py-2 text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg";
  const activeClass = "flex items-center gap-3 px-3 py-2 rounded-lg bg-primary/20 text-primary dark:bg-primary/30";
  
  // Definimos los estilos de los iconos
  const normalIcon = "";
  const activeIcon = "font-variation-settings: 'FILL' 1;";
%>

<aside
  class="flex w-64 flex-col h-full flex-shrink-0 bg-white dark:bg-slate-900/70 p-4 border-r border-slate-200 dark:border-slate-800"
>
  <div class="flex flex-col gap-4">
    <div class="flex gap-3 items-center px-3 py-2">
      <div
        class="bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10"
        data-alt="student avatar"
        style="background-image: url(&quot;<%= user.avatarUrl %>&quot;)"
      ></div>
      <div class="flex flex-col">
        <h1
          class="text-slate-900 dark:text-white text-base font-medium leading-normal"
        >
          <%= user.nombres %>
        </h1>
        <p
          class="text-slate-500 dark:text-slate-400 text-sm font-normal leading-normal"
        >
          Nivel
          <%= user.nivel %>
        </p>
      </div>
    </div>

    <nav class="flex flex-col gap-2 mt-4">
      <a
        class="<%= (active === 'inicio') ? activeClass : normalClass %>"
        href="/dashboard"
      >
        <span
          class="material-symbols-outlined"
          style="<%= (active === 'inicio') ? activeIcon : normalIcon %>"
          >home</span
        >
        <p class="text-sm font-medium leading-normal">Inicio</p>
      </a>

      <a
        class="<%= (active === 'actividades') ? activeClass : normalClass %>"
        href="/actividades"
      >
        <span
          class="material-symbols-outlined"
          style="<%= (active === 'actividades') ? activeIcon : normalIcon %>"
          >local_activity</span
        >
        <p class="text-sm font-medium leading-normal">Actividades</p>
      </a>

      <a
        class="<%= (active === 'progreso') ? activeClass : normalClass %>"
        href="/progreso"
      >
        <span
          class="material-symbols-outlined"
          style="<%= (active === 'progreso') ? activeIcon : normalIcon %>"
          >monitoring</span
        >
        <p class="text-sm font-medium leading-normal">Mi Progreso</p>
      </a>

      <a
        class="<%= (active === 'perfil') ? activeClass : normalClass %>"
        href="/perfil"
      >
        <span
          class="material-symbols-outlined"
          style="<%= (active === 'perfil') ? activeIcon : normalIcon %>"
          >person</span
        >
        <p class="text-sm font-medium leading-normal">Perfil</p>
      </a>
    </nav>
  </div>

  <div class="mt-auto">
    <form action="/logout" method="POST" class="w-full">
      <button
        type="submit"
        class="flex items-center gap-3 px-3 py-2 text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg w-full"
      >
        <span class="material-symbols-outlined">logout</span>
        <p class="text-sm font-medium leading-normal">Cerrar Sesi√≥n</p>
      </button>
    </form>
  </div>
</aside>
